## 第一部分 修改机理
### 遗留代码修改算法
* 确定改动点：参考16、17章
* 找出测试点：参考11、12章
* **解依赖**：23章（第一刀）——9、10章（一般依赖问题）——25章（解依赖技术），22章（大型方法），7章（创建测试时间过长）
* 编写测试：13章
* 修改、重构：建议用TDD，20、21、22章
### 感知、分离、接缝
* 感知：当我们无法访问到代码计算到值时，需要通过解依赖来“感知”这些值
    * 伪对象（fake object）
    * 仿对象（moke object）：模仿目标对象行为，_语焉不详_，有现成moke框架
* 分离：当我们无法将一小块代码放入到测试用具中运行时，需要通过解依赖将代码“分离”出来
* 接缝（seam）：程序中一些特殊的点，在这些点上无需做任何修改就可以达到改动程序行为的目的——_感觉和 fake 类似，只是不动代码本身，修改引用_
    * 激活点：在这些点上可以决定接缝采用哪种行为（类似case）
    * 预处理期接缝：限C、C++,可以创建测试库，在makefile或IDE（激活点）设置测试时和产品阶段启用不同预处理，_暂不研究_
    * 连接期接缝：使用 import 引用的类可通过修改 classpath（激活点）给出不同版本供引用的类
    * 对象接缝：通过不同类型的对象参数调用不同行为，静态方法需修改：去掉 static ，并将 private 改成 protected ,然后在子类中重写该方法（具体见书37电子书54页）